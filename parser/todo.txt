todo:
    - function return values
    - array index fixes
    - function calls within writeln/write.
